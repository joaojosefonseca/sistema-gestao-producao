# Configuração Netlify - Sistema Gerador CIPE v8.0

[build]
  # Pasta raiz do projeto
  base = "/"
  
  # Comando de build (não necessário para site estático)
  command = "echo 'No build needed'"
  
  # Pasta que será publicada (raiz do projeto)
  publish = "/"
  
  # Pasta das functions
  functions = "netlify/functions"

# ══════════════════════════════════════════════════════════
# HEADERS DE SEGURANÇA
# ══════════════════════════════════════════════════════════

[[headers]]
  for = "/*"
  [headers.values]
    # CORS - permite acesso de qualquer origem (ajustar se necessário)
    Access-Control-Allow-Origin = "*"
    Access-Control-Allow-Methods = "GET, POST, OPTIONS"
    Access-Control-Allow-Headers = "Content-Type"
    
    # Segurança adicional
    X-Frame-Options = "DENY"
    X-Content-Type-Options = "nosniff"
    Referrer-Policy = "strict-origin-when-cross-origin"

[[headers]]
  for = "/.netlify/functions/*"
  [headers.values]
    Access-Control-Allow-Origin = "*"
    Access-Control-Allow-Methods = "POST, OPTIONS"
    Access-Control-Allow-Headers = "Content-Type"

# ══════════════════════════════════════════════════════════
# REDIRECTS (opcional - para URLs amigáveis)
# ══════════════════════════════════════════════════════════

# Exemplo: redirecionar /api/openai para a function
# [[redirects]]
#   from = "/api/openai"
#   to = "/.netlify/functions/openai-proxy"
#   status = 200
